<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.14.0" xml:lang="en-US">
  <compounddef id="_replay_system_8cs" kind="file" language="C#">
    <compoundname>ReplaySystem.cs</compoundname>
    <innerclass refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data" prot="public">JL_GameProdEnv_CustomPackage::Runtime::TransformData</innerclass>
    <innerclass refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data" prot="public">JL_GameProdEnv_CustomPackage::Runtime::RigidbodyRecordingData</innerclass>
    <innerclass refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session" prot="public">JL_GameProdEnv_CustomPackage::Runtime::ReplaySession</innerclass>
    <innerclass refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder" prot="public">JL_GameProdEnv_CustomPackage::Runtime::ReplayRecorder</innerclass>
    <innerclass refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager" prot="public">JL_GameProdEnv_CustomPackage::Runtime::ReplaySessionManager</innerclass>
    <innernamespace refid="namespace_j_l___game_prod_env___custom_package">JL_GameProdEnv_CustomPackage</innernamespace>
    <innernamespace refid="namespace_j_l___game_prod_env___custom_package_1_1_runtime">JL_GameProdEnv_CustomPackage::Runtime</innernamespace>
    <innernamespace refid="namespace_system">System</innernamespace>
    <innernamespace refid="namespace_system_1_1_i_o">System::IO</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="keyword">using<sp/></highlight><highlight class="normal">System;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">System.Collections.Generic;</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">UnityEngine;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">using<sp/></highlight><highlight class="normal">System.IO;</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespace_j_l___game_prod_env___custom_package_1_1_runtime" kindref="compound">JL_GameProdEnv_CustomPackage.Runtime</ref></highlight></codeline>
<codeline lineno="7"><highlight class="normal">{</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/>[Serializable]</highlight></codeline>
<codeline lineno="12" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1a554016864e2e12b17a2682e1702c70c7" kindref="member">TransformData</ref></highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="21" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1a44ea6817fc6593fc28e90ef9efb627c2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Vector3<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1a44ea6817fc6593fc28e90ef9efb627c2" kindref="member">position</ref>;</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="27" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1acef71fdf197048c82bf78d6e13b7df2e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Quaternion<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1acef71fdf197048c82bf78d6e13b7df2e" kindref="member">rotation</ref>;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="33" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1a3078458340ad83383ec7c7e3987280f5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Vector3<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1a3078458340ad83383ec7c7e3987280f5" kindref="member">velocity</ref>;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="39" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1a3b2ff08ebdf45f325792d70ecdf7e297" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Vector3<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1a3b2ff08ebdf45f325792d70ecdf7e297" kindref="member">angularVelocity</ref>;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="45" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1adf20a3990d8455fcd04b974e32036b6b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1adf20a3990d8455fcd04b974e32036b6b" kindref="member">timestamp</ref>;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="50" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1a554016864e2e12b17a2682e1702c70c7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1a554016864e2e12b17a2682e1702c70c7" kindref="member">TransformData</ref>(Transform<sp/>transform,<sp/>Rigidbody<sp/>rigidbody,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>time)</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1a44ea6817fc6593fc28e90ef9efb627c2" kindref="member">position</ref><sp/>=<sp/>transform.position;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1acef71fdf197048c82bf78d6e13b7df2e" kindref="member">rotation</ref><sp/>=<sp/>transform.rotation;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1a3078458340ad83383ec7c7e3987280f5" kindref="member">velocity</ref><sp/>=<sp/>rigidbody<sp/>!=<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal"><sp/>?<sp/>rigidbody.linearVelocity<sp/>:<sp/>Vector3.zero;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1a3b2ff08ebdf45f325792d70ecdf7e297" kindref="member">angularVelocity</ref><sp/>=<sp/>rigidbody<sp/>!=<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal"><sp/>?<sp/>rigidbody.angularVelocity<sp/>:<sp/>Vector3.zero;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data_1adf20a3990d8455fcd04b974e32036b6b" kindref="member">timestamp</ref><sp/>=<sp/>time;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>[Serializable]</highlight></codeline>
<codeline lineno="65" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a8c8b2f0a00f7f3b390662d2936037109" kindref="member">RigidbodyRecordingData</ref></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="68" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1ac8643ed0a9c9d7215b2981ae55e9c2dc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1ac8643ed0a9c9d7215b2981ae55e9c2dc" kindref="member">objectName</ref>;</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="71" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a92b0725e55ebd29e9096d9ecf4eea537" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a92b0725e55ebd29e9096d9ecf4eea537" kindref="member">isPlayer</ref>;</highlight></codeline>
<codeline lineno="72"><highlight class="normal"></highlight></codeline>
<codeline lineno="76" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a86a551e5ac195008b10caa78f370cd42" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>List&lt;TransformData&gt;<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a86a551e5ac195008b10caa78f370cd42" kindref="member">recordedFrames</ref>;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight></codeline>
<codeline lineno="84" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a7b661ee8e53b9645afb3d63ccd3ff611" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Rigidbody<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a7b661ee8e53b9645afb3d63ccd3ff611" kindref="member">rigidbody</ref>;<sp/></highlight><highlight class="comment">//<sp/>Runtime<sp/>reference</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="87" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a8c8b2f0a00f7f3b390662d2936037109" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a8c8b2f0a00f7f3b390662d2936037109" kindref="member">RigidbodyRecordingData</ref>(Rigidbody<sp/>rb,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>playerType)</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1ac8643ed0a9c9d7215b2981ae55e9c2dc" kindref="member">objectName</ref><sp/>=<sp/>rb.name;</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a92b0725e55ebd29e9096d9ecf4eea537" kindref="member">isPlayer</ref><sp/>=<sp/>playerType;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a7b661ee8e53b9645afb3d63ccd3ff611" kindref="member">rigidbody</ref><sp/>=<sp/>rb;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a86a551e5ac195008b10caa78f370cd42" kindref="member">recordedFrames</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>List&lt;TransformData&gt;();</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="100" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a0ada28128aaa938f9048ae17674ce929" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a0ada28128aaa938f9048ae17674ce929" kindref="member">AddFrame</ref>(</highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>currentTime)</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a7b661ee8e53b9645afb3d63ccd3ff611" kindref="member">rigidbody</ref><sp/>!=<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a86a551e5ac195008b10caa78f370cd42" kindref="member">recordedFrames</ref>.Add(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_transform_data" kindref="compound">TransformData</ref>(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a7b661ee8e53b9645afb3d63ccd3ff611" kindref="member">rigidbody</ref>.transform,<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a7b661ee8e53b9645afb3d63ccd3ff611" kindref="member">rigidbody</ref>,<sp/>currentTime));</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="112" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a3b605b8e4cb9363f640e625148ebefe1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a3b605b8e4cb9363f640e625148ebefe1" kindref="member">ClearFrames</ref>()</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data_1a86a551e5ac195008b10caa78f370cd42" kindref="member">recordedFrames</ref>.Clear();</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>[Serializable]</highlight></codeline>
<codeline lineno="126" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a7724daf7a1889c48807cd2bec09e4c2f" kindref="member">ReplaySession</ref></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="132" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a0d61e0c40e0025533c126a9f6d9a1fe5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a0d61e0c40e0025533c126a9f6d9a1fe5" kindref="member">name</ref>;</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="139" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a2eb0b46197c40fa108ec6b043b56a354" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a2eb0b46197c40fa108ec6b043b56a354" kindref="member">duration</ref>;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="148" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1ae9180948141f2e54e6e5ec70d7d71e51" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>DateTime<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1ae9180948141f2e54e6e5ec70d7d71e51" kindref="member">recordedAt</ref>;</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="157" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a85c10817c09719352fdc59b4ac18076d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>List&lt;RigidbodyRecordingData&gt;<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a85c10817c09719352fdc59b4ac18076d" kindref="member">recordedObjects</ref>;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="167" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a7724daf7a1889c48807cd2bec09e4c2f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a7724daf7a1889c48807cd2bec09e4c2f" kindref="member">ReplaySession</ref>(</highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sessionName)</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a0d61e0c40e0025533c126a9f6d9a1fe5" kindref="member">name</ref><sp/>=<sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal">.IsNullOrEmpty(sessionName)<sp/>?<sp/>$</highlight><highlight class="stringliteral">&quot;Replay_{DateTime.Now:HH_mm_ss}&quot;</highlight><highlight class="normal"><sp/>:<sp/>sessionName;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1ae9180948141f2e54e6e5ec70d7d71e51" kindref="member">recordedAt</ref><sp/>=<sp/>DateTime.Now;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a2eb0b46197c40fa108ec6b043b56a354" kindref="member">duration</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a85c10817c09719352fdc59b4ac18076d" kindref="member">recordedObjects</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>List&lt;RigidbodyRecordingData&gt;();</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="180" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder" kindref="compound">ReplayRecorder</ref><sp/>:<sp/>MonoBehaviour</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[Header(</highlight><highlight class="stringliteral">&quot;Recording<sp/>Settings&quot;</highlight><highlight class="normal">)]<sp/>[SerializeField]</highlight></codeline>
<codeline lineno="187" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1ab627ea47315d21ee2737e5cbb811977e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1ab627ea47315d21ee2737e5cbb811977e" kindref="member">playerRecordingInterval</ref><sp/>=<sp/>0.02f;<sp/></highlight><highlight class="comment">//<sp/>50<sp/>FPS<sp/>for<sp/>players</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight></codeline>
<codeline lineno="196" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1ad94a59eaac97a03635adbb8180a13b86" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[SerializeField]<sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1ad94a59eaac97a03635adbb8180a13b86" kindref="member">normalRecordingInterval</ref><sp/>=<sp/>0.1f;<sp/></highlight><highlight class="comment">//<sp/>10<sp/>FPS<sp/>for<sp/>normal<sp/>objects</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="207" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>List&lt;RigidbodyRecordingData&gt;<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" kindref="member">currentRecordingData</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>List&lt;RigidbodyRecordingData&gt;();</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="215" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3b868fbd8980219d6d86cd36839ec0d8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3b868fbd8980219d6d86cd36839ec0d8" kindref="member">isRecording</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="216"><highlight class="normal"></highlight></codeline>
<codeline lineno="222" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a061db777980642d36a84598fbd687006" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a061db777980642d36a84598fbd687006" kindref="member">recordingStartTime</ref>;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="228" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1afd15b5aa924f17ecc83b07c05d951611" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1afd15b5aa924f17ecc83b07c05d951611" kindref="member">recordingEndTime</ref>;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="237" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1afa036a46d4bbae5b9fbc218645ef0420" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1afa036a46d4bbae5b9fbc218645ef0420" kindref="member">lastPlayerRecordTime</ref>;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"></highlight></codeline>
<codeline lineno="247" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a287c2229b9ee4be7b1101127c7585ed8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a287c2229b9ee4be7b1101127c7585ed8" kindref="member">lastNormalRecordTime</ref>;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"></highlight></codeline>
<codeline lineno="252" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1aaae9a7c53bba55e2cc8de28c8e5578a1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1aaae9a7c53bba55e2cc8de28c8e5578a1" kindref="member">IsRecording</ref><sp/>=&gt;<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3b868fbd8980219d6d86cd36839ec0d8" kindref="member">isRecording</ref>;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"></highlight></codeline>
<codeline lineno="265" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a520ff14541bc329768b5b024a78a7061" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a520ff14541bc329768b5b024a78a7061" kindref="member">RecordingDuration</ref></highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">get</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3b868fbd8980219d6d86cd36839ec0d8" kindref="member">isRecording</ref>)</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Time.time<sp/>-<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a061db777980642d36a84598fbd687006" kindref="member">recordingStartTime</ref>;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1afd15b5aa924f17ecc83b07c05d951611" kindref="member">recordingEndTime</ref><sp/>-<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a061db777980642d36a84598fbd687006" kindref="member">recordingStartTime</ref>;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="282" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1ad1484903dfce4fc62b999a53f1577024" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1ad1484903dfce4fc62b999a53f1577024" kindref="member">RecordedObjectsCount</ref><sp/>=&gt;<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" kindref="member">currentRecordingData</ref>.Count;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"></highlight></codeline>
<codeline lineno="287" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a1c84754f3233a1d69244525643dc6fec" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder" kindref="compound">ReplayRecorder</ref><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a1c84754f3233a1d69244525643dc6fec" kindref="member">instance</ref>;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"></highlight></codeline>
<codeline lineno="298" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a1f622b7b06add9d6aa0ca10bc24b4ca5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder" kindref="compound">ReplayRecorder</ref><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a1f622b7b06add9d6aa0ca10bc24b4ca5" kindref="member">Instance</ref></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">get</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a1c84754f3233a1d69244525643dc6fec" kindref="member">instance</ref><sp/>==<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GameObject<sp/>go<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>GameObject(</highlight><highlight class="stringliteral">&quot;ReplayRecorder&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a1c84754f3233a1d69244525643dc6fec" kindref="member">instance</ref><sp/>=<sp/>go.AddComponent&lt;<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder" kindref="compound">ReplayRecorder</ref>&gt;();</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DontDestroyOnLoad(go);</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a1c84754f3233a1d69244525643dc6fec" kindref="member">instance</ref>;</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="317" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a43b716b51617577039bfbb828cb86024" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a43b716b51617577039bfbb828cb86024" kindref="member">Awake</ref>()</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a1c84754f3233a1d69244525643dc6fec" kindref="member">instance</ref><sp/>==<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a1c84754f3233a1d69244525643dc6fec" kindref="member">instance</ref><sp/>=<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DontDestroyOnLoad(gameObject);</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a1c84754f3233a1d69244525643dc6fec" kindref="member">instance</ref><sp/>!=<sp/></highlight><highlight class="keyword">this</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Destroy(gameObject);</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight></codeline>
<codeline lineno="335" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a81b33592f8b87340dff79b5d86bd87b5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a81b33592f8b87340dff79b5d86bd87b5" kindref="member">StartRecording</ref>(List&lt;Rigidbody&gt;<sp/>playerRigidbodies,<sp/>List&lt;Rigidbody&gt;<sp/>normalRigidbodies)</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3b868fbd8980219d6d86cd36839ec0d8" kindref="member">isRecording</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="338"><highlight class="normal"></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" kindref="member">currentRecordingData</ref>.Clear();</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a061db777980642d36a84598fbd687006" kindref="member">recordingStartTime</ref><sp/>=<sp/>Time.time;</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1afd15b5aa924f17ecc83b07c05d951611" kindref="member">recordingEndTime</ref><sp/>=<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a061db777980642d36a84598fbd687006" kindref="member">recordingStartTime</ref>;<sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>end<sp/>time</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1afa036a46d4bbae5b9fbc218645ef0420" kindref="member">lastPlayerRecordTime</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a287c2229b9ee4be7b1101127c7585ed8" kindref="member">lastNormalRecordTime</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Setup<sp/>recording<sp/>data<sp/>for<sp/>all<sp/>rigidbodies</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(var<sp/>rb<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>playerRigidbodies)</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rb<sp/>!=<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" kindref="member">currentRecordingData</ref>.Add(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data" kindref="compound">RigidbodyRecordingData</ref>(rb,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="353"><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(var<sp/>rb<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>normalRigidbodies)</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rb<sp/>!=<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" kindref="member">currentRecordingData</ref>.Add(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data" kindref="compound">RigidbodyRecordingData</ref>(rb,<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3b868fbd8980219d6d86cd36839ec0d8" kindref="member">isRecording</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Debug.Log($</highlight><highlight class="stringliteral">&quot;Started<sp/>recording<sp/>{currentRecordingData.Count}<sp/>objects<sp/>at<sp/>time<sp/>{recordingStartTime}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="370" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a87503d07e8cd54d8dc160b6710b5b5f5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a87503d07e8cd54d8dc160b6710b5b5f5" kindref="member">StopRecording</ref>()</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3b868fbd8980219d6d86cd36839ec0d8" kindref="member">isRecording</ref>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1afd15b5aa924f17ecc83b07c05d951611" kindref="member">recordingEndTime</ref><sp/>=<sp/>Time.time;</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3b868fbd8980219d6d86cd36839ec0d8" kindref="member">isRecording</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>finalDuration<sp/>=<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1afd15b5aa924f17ecc83b07c05d951611" kindref="member">recordingEndTime</ref><sp/>-<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a061db777980642d36a84598fbd687006" kindref="member">recordingStartTime</ref>;</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Debug.Log($</highlight><highlight class="stringliteral">&quot;Stopped<sp/>recording.<sp/>Duration:<sp/>{finalDuration:F2}s&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight></codeline>
<codeline lineno="384" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1ad6b46ecad59b392e9faab96244714ee7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session" kindref="compound">ReplaySession</ref><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1ad6b46ecad59b392e9faab96244714ee7" kindref="member">SaveCurrentRecording</ref>(</highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>sessionName<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" kindref="member">currentRecordingData</ref>.Count<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Debug.LogWarning(</highlight><highlight class="stringliteral">&quot;No<sp/>recording<sp/>data<sp/>to<sp/>save&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="389"><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="392"><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var<sp/>session<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session" kindref="compound">ReplaySession</ref>(sessionName);</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.duration<sp/>=<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a520ff14541bc329768b5b024a78a7061" kindref="member">RecordingDuration</ref>;<sp/></highlight><highlight class="comment">//<sp/>This<sp/>will<sp/>now<sp/>use<sp/>the<sp/>correct<sp/>duration</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Deep<sp/>copy<sp/>the<sp/>recording<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(var<sp/>recordingData<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" kindref="member">currentRecordingData</ref>)</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>var<sp/>sessionData<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_rigidbody_recording_data" kindref="compound">RigidbodyRecordingData</ref>(recordingData.rigidbody,<sp/>recordingData.isPlayer);</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sessionData.objectName<sp/>=<sp/>recordingData.objectName;</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sessionData.recordedFrames<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>List&lt;TransformData&gt;(recordingData.recordedFrames);</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.recordedObjects.Add(sessionData);</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="404"><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>to<sp/>session<sp/>manager</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager" kindref="compound">ReplaySessionManager</ref>.<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ac3ace7710d37e7d7dc0bb9c76b356751" kindref="member">Instance</ref>.<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ad3d1c68d40a466bf70f87dff1351cc55" kindref="member">AddSession</ref>(session);</highlight></codeline>
<codeline lineno="407"><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Debug.Log($</highlight><highlight class="stringliteral">&quot;Saved<sp/>replay<sp/>session:<sp/>{session.name}<sp/>with<sp/>duration<sp/>{session.duration:F2}s<sp/>and<sp/>{session.recordedObjects.Count}<sp/>objects&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="409"><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>session;</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="412"><highlight class="normal"></highlight></codeline>
<codeline lineno="417" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3695300c646725b167940a0e6e7b1a8b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3695300c646725b167940a0e6e7b1a8b" kindref="member">ClearCurrentRecording</ref>()</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3b868fbd8980219d6d86cd36839ec0d8" kindref="member">isRecording</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(var<sp/>data<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" kindref="member">currentRecordingData</ref>)</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data.ClearFrames();</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="425"><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" kindref="member">currentRecordingData</ref>.Clear();</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a061db777980642d36a84598fbd687006" kindref="member">recordingStartTime</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1afd15b5aa924f17ecc83b07c05d951611" kindref="member">recordingEndTime</ref><sp/>=<sp/>0f;</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight></codeline>
<codeline lineno="441" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1acca7c0fd520f1055e99eed4f0b3b06f0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1acca7c0fd520f1055e99eed4f0b3b06f0" kindref="member">Update</ref>()</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3b868fbd8980219d6d86cd36839ec0d8" kindref="member">isRecording</ref><sp/>||<sp/>!Application.isPlaying)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>currentTime<sp/>=<sp/>Time.time<sp/>-<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a061db777980642d36a84598fbd687006" kindref="member">recordingStartTime</ref>;</highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Record<sp/>player<sp/>objects<sp/>at<sp/>higher<sp/>frequency</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(currentTime<sp/>-<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1afa036a46d4bbae5b9fbc218645ef0420" kindref="member">lastPlayerRecordTime</ref><sp/>&gt;=<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1ab627ea47315d21ee2737e5cbb811977e" kindref="member">playerRecordingInterval</ref>)</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(var<sp/>data<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" kindref="member">currentRecordingData</ref>)</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(data.isPlayer<sp/>&amp;&amp;<sp/>data.rigidbody<sp/>!=<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data.AddFrame(currentTime);</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="457"><highlight class="normal"></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1afa036a46d4bbae5b9fbc218645ef0420" kindref="member">lastPlayerRecordTime</ref><sp/>=<sp/>currentTime;</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Record<sp/>normal<sp/>objects<sp/>at<sp/>lower<sp/>frequency</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(currentTime<sp/>-<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a287c2229b9ee4be7b1101127c7585ed8" kindref="member">lastNormalRecordTime</ref><sp/>&gt;=<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1ad94a59eaac97a03635adbb8180a13b86" kindref="member">normalRecordingInterval</ref>)</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(var<sp/>data<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" kindref="member">currentRecordingData</ref>)</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!data.isPlayer<sp/>&amp;&amp;<sp/>data.rigidbody<sp/>!=<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data.AddFrame(currentTime);</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="471"><highlight class="normal"></highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a287c2229b9ee4be7b1101127c7585ed8" kindref="member">lastNormalRecordTime</ref><sp/>=<sp/>currentTime;</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="475"><highlight class="normal"></highlight></codeline>
<codeline lineno="483" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1aa807e1e48fdeaee1c467d6a6f3cd2c4d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>List&lt;RigidbodyRecordingData&gt;<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1aa807e1e48fdeaee1c467d6a6f3cd2c4d" kindref="member">GetCurrentRecordingData</ref>()</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>List&lt;RigidbodyRecordingData&gt;(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" kindref="member">currentRecordingData</ref>);</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="487"><highlight class="normal"></highlight></codeline>
<codeline lineno="492" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a1222e44c87862c27eb92303a56e27ced" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a1222e44c87862c27eb92303a56e27ced" kindref="member">HasRecordingData</ref>()</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>currentRecordingData.Count<sp/>&gt;<sp/>0<sp/>&amp;&amp;<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_recorder_1a3258944ba1015113d66644b1322a6359" kindref="member">currentRecordingData</ref>.Exists(data<sp/>=&gt;<sp/>data.recordedFrames.Count<sp/>&gt;<sp/>0);</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="497"><highlight class="normal"></highlight></codeline>
<codeline lineno="502" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager" kindref="compound">ReplaySessionManager</ref></highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="507" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ade97ad60ff31aac45cb9abbf577aec28" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager" kindref="compound">ReplaySessionManager</ref><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ade97ad60ff31aac45cb9abbf577aec28" kindref="member">instance</ref>;</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight></codeline>
<codeline lineno="514" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ac3ace7710d37e7d7dc0bb9c76b356751" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager" kindref="compound">ReplaySessionManager</ref><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ac3ace7710d37e7d7dc0bb9c76b356751" kindref="member">Instance</ref></highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">get</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ade97ad60ff31aac45cb9abbf577aec28" kindref="member">instance</ref><sp/>==<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ade97ad60ff31aac45cb9abbf577aec28" kindref="member">instance</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager" kindref="compound">ReplaySessionManager</ref>();</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ade97ad60ff31aac45cb9abbf577aec28" kindref="member">instance</ref>.LoadSessionsFromDisk();</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="523"><highlight class="normal"></highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ade97ad60ff31aac45cb9abbf577aec28" kindref="member">instance</ref>;</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="527"><highlight class="normal"></highlight></codeline>
<codeline lineno="532" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a28f48deb99e5fe45ee461eb327faed56" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>List&lt;ReplaySession&gt;<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a28f48deb99e5fe45ee461eb327faed56" kindref="member">sessions</ref><sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>List&lt;ReplaySession&gt;();</highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight></codeline>
<codeline lineno="537" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a233068c14378df7169b9b60f504a3425" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a233068c14378df7169b9b60f504a3425" kindref="member">SAVE_FOLDER</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;Assets/ReplaySessions&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="538"><highlight class="normal"></highlight></codeline>
<codeline lineno="545" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1af523767500eaba8316e6845d7e37ebec" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1af523767500eaba8316e6845d7e37ebec" kindref="member">FILE_EXTENSION</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&quot;.json&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="546"><highlight class="normal"></highlight></codeline>
<codeline lineno="551" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ab7bb7aec3cff52fb0cf1a4d4b59d58bd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>List&lt;ReplaySession&gt;<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ab7bb7aec3cff52fb0cf1a4d4b59d58bd" kindref="member">GetAllSessions</ref>()<sp/>=&gt;<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>List&lt;ReplaySession&gt;(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a28f48deb99e5fe45ee461eb327faed56" kindref="member">sessions</ref>);</highlight></codeline>
<codeline lineno="552"><highlight class="normal"></highlight></codeline>
<codeline lineno="557" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ad3d1c68d40a466bf70f87dff1351cc55" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ad3d1c68d40a466bf70f87dff1351cc55" kindref="member">AddSession</ref>(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session" kindref="compound">ReplaySession</ref><sp/>session)</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a28f48deb99e5fe45ee461eb327faed56" kindref="member">sessions</ref>.Add(session);</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1acb0dd76f92affbff0655fac40f84939b" kindref="member">SaveSessionToDisk</ref>(session);</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="562"><highlight class="normal"></highlight></codeline>
<codeline lineno="567" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a1f2503c2009257530be0f92142b34ddb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a1f2503c2009257530be0f92142b34ddb" kindref="member">RemoveSession</ref>(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session" kindref="compound">ReplaySession</ref><sp/>session)</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a28f48deb99e5fe45ee461eb327faed56" kindref="member">sessions</ref>.Remove(session);</highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ac12c72918d4e8ef2a49bd381d51b9cff" kindref="member">DeleteSessionFile</ref>(session);</highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="572"><highlight class="normal"></highlight></codeline>
<codeline lineno="577" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1af1aafe23b9c017d0877610448521b40f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1af1aafe23b9c017d0877610448521b40f" kindref="member">ClearAllSessions</ref>()</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(var<sp/>session<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a28f48deb99e5fe45ee461eb327faed56" kindref="member">sessions</ref>)</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="581"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ac12c72918d4e8ef2a49bd381d51b9cff" kindref="member">DeleteSessionFile</ref>(session);</highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="583"><highlight class="normal"></highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a28f48deb99e5fe45ee461eb327faed56" kindref="member">sessions</ref>.Clear();</highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="586"><highlight class="normal"></highlight></codeline>
<codeline lineno="590" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1aeb272f582a30e40b4406ffd90e82b298" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session" kindref="compound">ReplaySession</ref><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1aeb272f582a30e40b4406ffd90e82b298" kindref="member">GetSession</ref>(</highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>name)</highlight></codeline>
<codeline lineno="591"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a28f48deb99e5fe45ee461eb327faed56" kindref="member">sessions</ref>.Find(s<sp/>=&gt;<sp/>s.name<sp/>==<sp/>name);</highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="594"><highlight class="normal"></highlight></codeline>
<codeline lineno="598" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a1c9a007b4ba2238274843379022a69ff" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a1c9a007b4ba2238274843379022a69ff" kindref="member">SessionCount</ref><sp/>=&gt;<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a28f48deb99e5fe45ee461eb327faed56" kindref="member">sessions</ref>.Count;</highlight></codeline>
<codeline lineno="599"><highlight class="normal"></highlight></codeline>
<codeline lineno="603" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1acb0dd76f92affbff0655fac40f84939b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1acb0dd76f92affbff0655fac40f84939b" kindref="member">SaveSessionToDisk</ref>(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session" kindref="compound">ReplaySession</ref><sp/>session)</highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Ensure<sp/>directory<sp/>exists</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!Directory.Exists(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a233068c14378df7169b9b60f504a3425" kindref="member">SAVE_FOLDER</ref>))</highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Directory.CreateDirectory(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a233068c14378df7169b9b60f504a3425" kindref="member">SAVE_FOLDER</ref>);</highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="610"><highlight class="normal"></highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>json<sp/>=<sp/>JsonUtility.ToJson(session,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>filePath<sp/>=<sp/>Path.Combine(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a233068c14378df7169b9b60f504a3425" kindref="member">SAVE_FOLDER</ref>,<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1adada44d0a23716ec83924308a5e2c77b" kindref="member">GetSafeFileName</ref>(session.<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a0d61e0c40e0025533c126a9f6d9a1fe5" kindref="member">name</ref>)<sp/>+<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1af523767500eaba8316e6845d7e37ebec" kindref="member">FILE_EXTENSION</ref>);</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>File.WriteAllText(filePath,<sp/>json);</highlight></codeline>
<codeline lineno="614"><highlight class="normal"></highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Make<sp/>Unity<sp/>aware<sp/>of<sp/>the<sp/>new<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#if<sp/>UNITY_EDITOR</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>UnityEditor.AssetDatabase.Refresh();</highlight></codeline>
<codeline lineno="618"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="620"><highlight class="normal"></highlight></codeline>
<codeline lineno="626" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ac35efc71e893c84c9f365aa30b640a9c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ac35efc71e893c84c9f365aa30b640a9c" kindref="member">LoadSessionsFromDisk</ref>()</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a28f48deb99e5fe45ee461eb327faed56" kindref="member">sessions</ref>.Clear();</highlight></codeline>
<codeline lineno="629"><highlight class="normal"></highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!Directory.Exists(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a233068c14378df7169b9b60f504a3425" kindref="member">SAVE_FOLDER</ref>))</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="634"><highlight class="normal"></highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal">[]<sp/>files<sp/>=<sp/>Directory.GetFiles(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a233068c14378df7169b9b60f504a3425" kindref="member">SAVE_FOLDER</ref>,<sp/></highlight><highlight class="stringliteral">&quot;*&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1af523767500eaba8316e6845d7e37ebec" kindref="member">FILE_EXTENSION</ref>);</highlight></codeline>
<codeline lineno="636"><highlight class="normal"></highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>file<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>files)</highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>json<sp/>=<sp/>File.ReadAllText(file);</highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session" kindref="compound">ReplaySession</ref><sp/>session<sp/>=<sp/>JsonUtility.FromJson&lt;<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session" kindref="compound">ReplaySession</ref>&gt;(json);</highlight></codeline>
<codeline lineno="643"><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(session<sp/>!=<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="646"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a28f48deb99e5fe45ee461eb327faed56" kindref="member">sessions</ref>.Add(session);</highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(Exception<sp/>e)</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Debug.LogError($</highlight><highlight class="stringliteral">&quot;Error<sp/>loading<sp/>replay<sp/>session<sp/>from<sp/>{file}:<sp/>{e.Message}&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="654"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="655"><highlight class="normal"></highlight></codeline>
<codeline lineno="659" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ac12c72918d4e8ef2a49bd381d51b9cff" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1ac12c72918d4e8ef2a49bd381d51b9cff" kindref="member">DeleteSessionFile</ref>(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session" kindref="compound">ReplaySession</ref><sp/>session)</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>filePath<sp/>=<sp/>Path.Combine(<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1a233068c14378df7169b9b60f504a3425" kindref="member">SAVE_FOLDER</ref>,<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1adada44d0a23716ec83924308a5e2c77b" kindref="member">GetSafeFileName</ref>(session.<ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_1a0d61e0c40e0025533c126a9f6d9a1fe5" kindref="member">name</ref>)<sp/>+<sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1af523767500eaba8316e6845d7e37ebec" kindref="member">FILE_EXTENSION</ref>);</highlight></codeline>
<codeline lineno="662"><highlight class="normal"></highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(File.Exists(filePath))</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>File.Delete(filePath);</highlight></codeline>
<codeline lineno="666"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="667"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Also<sp/>delete<sp/>the<sp/>meta<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>metaFilePath<sp/>=<sp/>filePath<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;.meta&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="669"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(File.Exists(metaFilePath))</highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>File.Delete(metaFilePath);</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="673"><highlight class="normal"></highlight></codeline>
<codeline lineno="674"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#if<sp/>UNITY_EDITOR</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>UnityEditor.AssetDatabase.Refresh();</highlight></codeline>
<codeline lineno="676"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="678"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="679"><highlight class="normal"></highlight></codeline>
<codeline lineno="683" refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1adada44d0a23716ec83924308a5e2c77b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/><ref refid="class_j_l___game_prod_env___custom_package_1_1_runtime_1_1_replay_session_manager_1adada44d0a23716ec83924308a5e2c77b" kindref="member">GetSafeFileName</ref>(</highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/>fileName)</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Remove<sp/>invalid<sp/>characters<sp/>from<sp/>filename</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>c<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>Path.GetInvalidFileNameChars())</highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fileName<sp/>=<sp/>fileName.Replace(c,<sp/></highlight><highlight class="charliteral">&apos;_&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="690"><highlight class="normal"></highlight></codeline>
<codeline lineno="691"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>fileName;</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="693"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="694"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="Runtime/ReplaySystem.cs"/>
  </compounddef>
</doxygen>
